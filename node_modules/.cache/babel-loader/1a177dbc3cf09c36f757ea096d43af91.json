{"ast":null,"code":"var _jsxFileName = \"/Users/ajeetjai/Desktop/website/src/view/components/main/CompanyPage/SearchResults.js\";\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport CompanyCard from './CompanyCard';\nimport { Filter } from '../../common';\nimport { Loader } from './../../../../assets/SvgIcon';\nimport { connect } from 'react-redux';\nimport { fetchSearchedCompanyLists } from \"../../../../actions/SearchActions\";\nimport { fetchCompanyList } from \"../../../../actions/CompanyAction\";\nimport Footer from '../../../layout/defaultLayout/footer/Footer';\nimport { PageHeading } from '../../common';\n\nclass SearchResults extends Component {\n  constructor(props) {\n    super(props);\n\n    this.filterToggle = () => {\n      this.setState({\n        filter: !this.state.filter\n      });\n    };\n\n    this.state = {\n      filters: null,\n      checkFilter: false,\n      filter: false\n    };\n    this.handlefilterChange = this.handlefilterChange.bind(this);\n    this.clearFilters = this.clearFilters.bind(this);\n  }\n\n  componentDidMount() {\n    let searches = localStorage.getItem(\"search-result\");\n\n    if (searches) {\n      searches = JSON.parse(searches);\n      let companyIds = [];\n\n      if (searches.length > 0) {\n        searches.map(e => {\n          if (e.type === \"COMPANY\" || e.props && e.props.type === \"COMPANY\") {\n            let somearr = e.url ? e.url.split(\"/\") : e.props.url.split(\"/\");\n            companyIds.push(somearr[somearr.length - 1]);\n          }\n        });\n      }\n\n      if (companyIds.length >= 0) {\n        this.props.dispatch(fetchSearchedCompanyLists(companyIds));\n        this.props.dispatch(fetchCompanyList(null, null, 4));\n      } else {\n        this.props.dispatch(fetchCompanyList(null, null, 4));\n      }\n    } else {\n      this.props.dispatch(fetchCompanyList(null, null, 4));\n    }\n  }\n\n  handlefilterChange(filter) {\n    const filters = this.props.company.items.companyList.filter;\n    filters[filter.category].map(f => {\n      if (f.name === filter.name) {\n        f.isChecked = filter.isChecked;\n      }\n\n      return f;\n    });\n    this.setState({\n      filters: filters,\n      checkFilter: true\n    });\n  }\n\n  clearFilters() {\n    const filters = this.props.company.items.companyList.filter;\n    filters['industry'].map(f => {\n      f.isChecked = false;\n      return f;\n    });\n    filters['location'].map(f => {\n      f.isChecked = false;\n      return f;\n    });\n    this.setState({\n      filters: filters,\n      checkFilter: false\n    });\n  }\n\n  render() {\n    const filter = this.state.filter;\n\n    if (!this.props.company.items.companyList || !this.props.search.items.companySearchlist) {\n      return React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      });\n    }\n\n    let searchVal = localStorage.getItem(\"search-value\");\n    let searchObj = this.props.search;\n    let companyObj = this.props.company;\n    let searchedList = searchObj.items.companySearchlist.companylist;\n\n    if (this.state.checkFilter) {\n      let industryfilter = companyObj.items.companyList.filter.industry.filter(element => element.isChecked == true).map(element => {\n        return element.name;\n      });\n\n      if (industryfilter.length > 0) {\n        searchedList = searchedList.filter(e => industryfilter.includes(e.industry));\n      }\n\n      let locationfilter = companyObj.items.companyList.filter.location.filter(element => element.isChecked == true).map(element => {\n        return element.name;\n      });\n      ;\n\n      if (locationfilter.length > 0) {\n        searchedList = searchedList.filter(e => e.otherlocations.some(x => locationfilter.includes(x)));\n      }\n    }\n\n    let companySearchList = searchedList.map(element => {\n      return React.createElement(\"div\", {\n        className: \"col-lg-4 col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(CompanyCard, {\n        Company: element,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }));\n    });\n    let companyList = companyObj.items.companyList && companyObj.items.companyList.companylist && companyObj.items.companyList.companylist.length > 0 ? companyObj.items.companyList.companylist.slice(0, 4).map(element => {\n      return React.createElement(\"div\", {\n        className: \"col-lg-3 col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(CompanyCard, {\n        Company: element,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }));\n    }) : [];\n    let searchCount = searchedList.length;\n    return React.createElement(\"div\", {\n      className: \"bg-light-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"company-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, searchObj.items.companySearchlist.companylist.length > 0 && companyObj && companyObj.items.companyList && companyObj.items.companyList.filter && React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classNames('col-md-3', 'filter-mobile', {\n        'd-block': filter\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(Filter, {\n      filterToggle: this.filterToggle,\n      onFilterChange: this.handlefilterChange,\n      onResetClick: this.clearFilters,\n      filterClass: \"filter-wrapper\",\n      headerText: \"Filter by:\",\n      resetText: \"Reset\",\n      categoryHeadText: companyObj.items.companyList.filter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"mobile-filter-btn-wrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      onClick: this.clearFilters,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Reset\"), React.createElement(\"li\", {\n      onClick: this.filterToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"btn btn-primary-fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Done\"))))), React.createElement(\"div\", {\n      className: \"col-md-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"company-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"search-result-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Showing\\xA0\", searchCount, \" Results\\xA0for \", React.createElement(\"span\", {\n      className: \"font-weight-bold\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"'\", searchVal, \"'\")), React.createElement(\"div\", {\n      className: \"sort-wrapper d-none d-sm-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex align-items-center justify-content-end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"sort-bg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"company-list-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, companySearchList))))), searchObj.items.companySearchlist && companyList.length > 0 && searchObj.items.companySearchlist.companylist.length <= 0 && React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"company-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"no-company-found\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"Sorry! We couldn't find anything related to \\\"\", searchVal, \"\\\"\"), React.createElement(\"div\", {\n      className: \"sort-wrapper d-none d-sm-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex align-items-center justify-content-end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    })), React.createElement(PageHeading, {\n      tagName: \"h5\",\n      className: \"page-heading-search\",\n      headingClass: \"heading\",\n      headingText: \"See Other Top Companies\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"company-list-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, companyList))))), React.createElement(\"div\", {\n      className: \"mobile-filter-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      onClick: this.filterToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"Filter by\"))))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  search: state.searchReducer,\n  company: state.companyReducer\n});\n\nexport default connect(mapStateToProps)(SearchResults);","map":{"version":3,"sources":["/Users/ajeetjai/Desktop/website/src/view/components/main/CompanyPage/SearchResults.js"],"names":["React","Component","classNames","CompanyCard","Filter","Loader","connect","fetchSearchedCompanyLists","fetchCompanyList","Footer","PageHeading","SearchResults","constructor","props","filterToggle","setState","filter","state","filters","checkFilter","handlefilterChange","bind","clearFilters","componentDidMount","searches","localStorage","getItem","JSON","parse","companyIds","length","map","e","type","somearr","url","split","push","dispatch","company","items","companyList","category","f","name","isChecked","render","search","companySearchlist","searchVal","searchObj","companyObj","searchedList","companylist","industryfilter","industry","element","includes","locationfilter","location","otherlocations","some","x","companySearchList","slice","searchCount","mapStateToProps","searchReducer","companyReducer"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,MAAT,QAAuB,cAAvB;AACA,SAASC,MAAT,QAAuB,8BAAvB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,yBAAT,QAA0C,mCAA1C;AACA,SAASC,gBAAT,QAAiC,mCAAjC;AACA,OAAOC,MAAP,MAAmB,6CAAnB;AACA,SAASC,WAAT,QAA4B,cAA5B;;AAEA,MAAMC,aAAN,SAA4BV,SAA5B,CAAsC;AAClCW,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SA8CnBC,YA9CmB,GA8CJ,MAAM;AACjB,WAAKC,QAAL,CAAc;AAAEC,QAAAA,MAAM,EAAE,CAAC,KAAKC,KAAL,CAAWD;AAAtB,OAAd;AACH,KAhDkB;;AAEf,SAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE,IADA;AAETC,MAAAA,WAAW,EAAE,KAFJ;AAGTH,MAAAA,MAAM,EAAE;AAHC,KAAb;AAKA,SAAKI,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBC,IAAxB,CAA6B,IAA7B,CAA1B;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACH;;AACDE,EAAAA,iBAAiB,GAAG;AAChB,QAAIC,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAf;;AACA,QAAIF,QAAJ,EAAc;AACVA,MAAAA,QAAQ,GAAGG,IAAI,CAACC,KAAL,CAAWJ,QAAX,CAAX;AACA,UAAIK,UAAU,GAAG,EAAjB;;AACA,UAAIL,QAAQ,CAACM,MAAT,GAAkB,CAAtB,EAAyB;AACrBN,QAAAA,QAAQ,CAACO,GAAT,CAAaC,CAAC,IAAI;AACd,cAAIA,CAAC,CAACC,IAAF,KAAW,SAAX,IAAyBD,CAAC,CAACnB,KAAF,IAAWmB,CAAC,CAACnB,KAAF,CAAQoB,IAAR,KAAiB,SAAzD,EAAqE;AACjE,gBAAIC,OAAO,GAAGF,CAAC,CAACG,GAAF,GAAQH,CAAC,CAACG,GAAF,CAAMC,KAAN,CAAY,GAAZ,CAAR,GAA2BJ,CAAC,CAACnB,KAAF,CAAQsB,GAAR,CAAYC,KAAZ,CAAkB,GAAlB,CAAzC;AACAP,YAAAA,UAAU,CAACQ,IAAX,CAAgBH,OAAO,CAACA,OAAO,CAACJ,MAAR,GAAiB,CAAlB,CAAvB;AACH;AACJ,SALD;AAMH;;AACD,UAAID,UAAU,CAACC,MAAX,IAAqB,CAAzB,EAA4B;AACxB,aAAKjB,KAAL,CAAWyB,QAAX,CAAoB/B,yBAAyB,CAACsB,UAAD,CAA7C;AACA,aAAKhB,KAAL,CAAWyB,QAAX,CAAoB9B,gBAAgB,CAAC,IAAD,EAAO,IAAP,EAAa,CAAb,CAApC;AACH,OAHD,MAIK;AACD,aAAKK,KAAL,CAAWyB,QAAX,CAAoB9B,gBAAgB,CAAC,IAAD,EAAO,IAAP,EAAa,CAAb,CAApC;AACH;AACJ,KAlBD,MAmBK;AACD,WAAKK,KAAL,CAAWyB,QAAX,CAAoB9B,gBAAgB,CAAC,IAAD,EAAO,IAAP,EAAa,CAAb,CAApC;AACH;AAEJ;;AACDY,EAAAA,kBAAkB,CAACJ,MAAD,EAAS;AACvB,UAAME,OAAO,GAAG,KAAKL,KAAL,CAAW0B,OAAX,CAAmBC,KAAnB,CAAyBC,WAAzB,CAAqCzB,MAArD;AACAE,IAAAA,OAAO,CAACF,MAAM,CAAC0B,QAAR,CAAP,CAAyBX,GAAzB,CAA8BY,CAAD,IAAO;AAChC,UAAIA,CAAC,CAACC,IAAF,KAAW5B,MAAM,CAAC4B,IAAtB,EAA4B;AACxBD,QAAAA,CAAC,CAACE,SAAF,GAAc7B,MAAM,CAAC6B,SAArB;AACH;;AACD,aAAOF,CAAP;AACH,KALD;AAMA,SAAK5B,QAAL,CAAc;AAAEG,MAAAA,OAAO,EAAEA,OAAX;AAAoBC,MAAAA,WAAW,EAAE;AAAjC,KAAd;AACH;;AAIDG,EAAAA,YAAY,GAAG;AACX,UAAMJ,OAAO,GAAG,KAAKL,KAAL,CAAW0B,OAAX,CAAmBC,KAAnB,CAAyBC,WAAzB,CAAqCzB,MAArD;AACAE,IAAAA,OAAO,CAAC,UAAD,CAAP,CAAoBa,GAApB,CAAyBY,CAAD,IAAO;AAC3BA,MAAAA,CAAC,CAACE,SAAF,GAAc,KAAd;AACA,aAAOF,CAAP;AACH,KAHD;AAIAzB,IAAAA,OAAO,CAAC,UAAD,CAAP,CAAoBa,GAApB,CAAyBY,CAAD,IAAO;AAC3BA,MAAAA,CAAC,CAACE,SAAF,GAAc,KAAd;AACA,aAAOF,CAAP;AACH,KAHD;AAIA,SAAK5B,QAAL,CAAc;AAAEG,MAAAA,OAAO,EAAEA,OAAX;AAAoBC,MAAAA,WAAW,EAAE;AAAjC,KAAd;AACH;;AACD2B,EAAAA,MAAM,GAAG;AAAA,UACG9B,MADH,GACc,KAAKC,KADnB,CACGD,MADH;;AAEL,QAAI,CAAC,KAAKH,KAAL,CAAW0B,OAAX,CAAmBC,KAAnB,CAAyBC,WAA1B,IAAyC,CAAC,KAAK5B,KAAL,CAAWkC,MAAX,CAAkBP,KAAlB,CAAwBQ,iBAAtE,EAAyF;AACrF,aAAO,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;;AACD,QAAIC,SAAS,GAAGxB,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAhB;AACA,QAAIwB,SAAS,GAAG,KAAKrC,KAAL,CAAWkC,MAA3B;AACA,QAAII,UAAU,GAAG,KAAKtC,KAAL,CAAW0B,OAA5B;AAEA,QAAIa,YAAY,GAAGF,SAAS,CAACV,KAAV,CAAgBQ,iBAAhB,CAAkCK,WAArD;;AACA,QAAI,KAAKpC,KAAL,CAAWE,WAAf,EAA4B;AACxB,UAAImC,cAAc,GAAGH,UAAU,CAACX,KAAX,CAAiBC,WAAjB,CAA6BzB,MAA7B,CAAoCuC,QAApC,CAA6CvC,MAA7C,CAAoDwC,OAAO,IAC5EA,OAAO,CAACX,SAAR,IAAqB,IADJ,EACUd,GADV,CACcyB,OAAO,IAAI;AACtC,eAAOA,OAAO,CAACZ,IAAf;AACH,OAHgB,CAArB;;AAIA,UAAIU,cAAc,CAACxB,MAAf,GAAwB,CAA5B,EAA+B;AAC3BsB,QAAAA,YAAY,GAAGA,YAAY,CAACpC,MAAb,CAAoBgB,CAAC,IAChCsB,cAAc,CAACG,QAAf,CAAwBzB,CAAC,CAACuB,QAA1B,CADW,CAAf;AAEH;;AACD,UAAIG,cAAc,GAAGP,UAAU,CAACX,KAAX,CAAiBC,WAAjB,CAA6BzB,MAA7B,CAAoC2C,QAApC,CAA6C3C,MAA7C,CAAoDwC,OAAO,IAC5EA,OAAO,CAACX,SAAR,IAAqB,IADJ,EACUd,GADV,CACcyB,OAAO,IAAI;AACtC,eAAOA,OAAO,CAACZ,IAAf;AACH,OAHgB,CAArB;AAGO;;AACP,UAAIc,cAAc,CAAC5B,MAAf,GAAwB,CAA5B,EAA+B;AAC3BsB,QAAAA,YAAY,GAAGA,YAAY,CAACpC,MAAb,CAAoBgB,CAAC,IAChCA,CAAC,CAAC4B,cAAF,CAAiBC,IAAjB,CAAsBC,CAAC,IAAIJ,cAAc,CAACD,QAAf,CAAwBK,CAAxB,CAA3B,CADW,CAAf;AAEH;AACJ;;AAED,QAAIC,iBAAiB,GAAGX,YAAY,CAACrB,GAAb,CAAiByB,OAAO,IAAI;AAChD,aACI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,WAAD;AAAa,QAAA,OAAO,EAAEA,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ;AAKH,KANuB,CAAxB;AAOA,QAAIf,WAAW,GAAIU,UAAU,CAACX,KAAX,CAAiBC,WAAjB,IAAgCU,UAAU,CAACX,KAAX,CAAiBC,WAAjB,CAA6BY,WAA7D,IAA4EF,UAAU,CAACX,KAAX,CAAiBC,WAAjB,CAA6BY,WAA7B,CAAyCvB,MAAzC,GAAkD,CAA/H,GACZqB,UAAU,CAACX,KAAX,CAAiBC,WAAjB,CAA6BY,WAA7B,CAAyCW,KAAzC,CAA+C,CAA/C,EAAkD,CAAlD,EAAqDjC,GAArD,CAAyDyB,OAAO,IAAI;AAClE,aACI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,WAAD;AAAa,QAAA,OAAO,EAAEA,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ;AAKH,KANC,CADY,GAOT,EAPT;AAQA,QAAIS,WAAW,GAAGb,YAAY,CAACtB,MAA/B;AACA,WACI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKoB,SAAS,CAACV,KAAV,CAAgBQ,iBAAhB,CAAkCK,WAAlC,CAA8CvB,MAA9C,GAAuD,CAAvD,IAA4DqB,UAA5D,IAA0EA,UAAU,CAACX,KAAX,CAAiBC,WAA3F,IAA0GU,UAAU,CAACX,KAAX,CAAiBC,WAAjB,CAA6BzB,MAAvI,IAEG;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAEd,UAAU,CAAC,UAAD,EAAa,eAAb,EAA8B;AAAE,mBAAWc;AAAb,OAA9B,CAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AACI,MAAA,YAAY,EAAE,KAAKF,YADvB;AAEI,MAAA,cAAc,EAAE,KAAKM,kBAFzB;AAGI,MAAA,YAAY,EAAE,KAAKE,YAHvB;AAII,MAAA,WAAW,EAAC,gBAJhB;AAKI,MAAA,UAAU,EAAC,YALf;AAMI,MAAA,SAAS,EAAC,OANd;AAOI,MAAA,gBAAgB,EAAE6B,UAAU,CAACX,KAAX,CAAiBC,WAAjB,CAA6BzB,MAPnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAUI;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,OAAO,EAAE,KAAKM,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAEI;AAAI,MAAA,OAAO,EAAE,KAAKR,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,SAAS,EAAC,sBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,CAFJ,CADJ,CAVJ,CADJ,EAoBI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,uBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACamD,WADb,sBACsC;AAAM,MAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAqChB,SAArC,MADtC,CADJ,EAII;AAAK,MAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,+CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,CADJ,CAJJ,EAaI;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKc,iBADL,CADJ,CAbJ,CADJ,CApBJ,CAHR,EA6CKb,SAAS,CAACV,KAAV,CAAgBQ,iBAAhB,IAAqCP,WAAW,CAACX,MAAZ,GAAqB,CAA1D,IAAgEoB,SAAS,CAACV,KAAV,CAAgBQ,iBAAhB,CAAkCK,WAAlC,CAA8CvB,MAA9C,IAAwD,CAAxH,IAA8H;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAC3H;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yDACkDmB,SADlD,OADJ,EAII;AAAK,MAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,+CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAJJ,EAQI,oBAAC,WAAD;AACI,MAAA,OAAO,EAAC,IADZ;AAEI,MAAA,SAAS,EAAC,qBAFd;AAGI,MAAA,YAAY,EAAC,SAHjB;AAII,MAAA,WAAW,EAAC,yBAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARJ,EAcI;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKR,WADL,CADJ,CAdJ,CADJ,CAD2H,CA7CnI,EAqEI;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,OAAO,EAAE,KAAK3B,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,CADJ,CArEJ,CADJ,CADJ,EA+EI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA/EJ,CADJ;AAoFH;;AA/LiC;;AAkMtC,MAAMoD,eAAe,GAAGjD,KAAK,KAAK;AAC9B8B,EAAAA,MAAM,EAAE9B,KAAK,CAACkD,aADgB;AAE9B5B,EAAAA,OAAO,EAAEtB,KAAK,CAACmD;AAFe,CAAL,CAA7B;;AAIA,eAAe9D,OAAO,CAAC4D,eAAD,CAAP,CAAyBvD,aAAzB,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport classNames from 'classnames';\nimport CompanyCard from './CompanyCard';\nimport { Filter } from '../../common';\nimport { Loader } from './../../../../assets/SvgIcon';\nimport { connect } from 'react-redux';\nimport { fetchSearchedCompanyLists } from \"../../../../actions/SearchActions\";\nimport { fetchCompanyList } from \"../../../../actions/CompanyAction\";\nimport Footer from '../../../layout/defaultLayout/footer/Footer';\nimport { PageHeading } from '../../common';\n\nclass SearchResults extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            filters: null,\n            checkFilter: false,\n            filter: false,\n        }\n        this.handlefilterChange = this.handlefilterChange.bind(this);\n        this.clearFilters = this.clearFilters.bind(this);\n    }\n    componentDidMount() {\n        let searches = localStorage.getItem(\"search-result\");\n        if (searches) {\n            searches = JSON.parse(searches);\n            let companyIds = []\n            if (searches.length > 0) {\n                searches.map(e => {\n                    if (e.type === \"COMPANY\" || (e.props && e.props.type === \"COMPANY\")) {\n                        let somearr = e.url ? e.url.split(\"/\") : e.props.url.split(\"/\");\n                        companyIds.push(somearr[somearr.length - 1])\n                    }\n                })\n            }\n            if (companyIds.length >= 0) {\n                this.props.dispatch(fetchSearchedCompanyLists(companyIds));\n                this.props.dispatch(fetchCompanyList(null, null, 4));\n            }\n            else {\n                this.props.dispatch(fetchCompanyList(null, null, 4));\n            }\n        }\n        else {\n            this.props.dispatch(fetchCompanyList(null, null, 4));\n        }\n\n    }\n    handlefilterChange(filter) {\n        const filters = this.props.company.items.companyList.filter;\n        filters[filter.category].map((f) => {\n            if (f.name === filter.name) {\n                f.isChecked = filter.isChecked;\n            }\n            return f;\n        });\n        this.setState({ filters: filters, checkFilter: true });\n    }\n    filterToggle = () => {\n        this.setState({ filter: !this.state.filter })\n    }\n    clearFilters() {\n        const filters = this.props.company.items.companyList.filter;\n        filters['industry'].map((f) => {\n            f.isChecked = false;\n            return f;\n        });\n        filters['location'].map((f) => {\n            f.isChecked = false;\n            return f;\n        });\n        this.setState({ filters: filters, checkFilter: false });\n    }\n    render() {\n        const { filter } = this.state\n        if (!this.props.company.items.companyList || !this.props.search.items.companySearchlist) {\n            return <Loader />;\n        }\n        let searchVal = localStorage.getItem(\"search-value\");\n        let searchObj = this.props.search;\n        let companyObj = this.props.company;\n\n        let searchedList = searchObj.items.companySearchlist.companylist;\n        if (this.state.checkFilter) {\n            let industryfilter = companyObj.items.companyList.filter.industry.filter(element =>\n                element.isChecked == true).map(element => {\n                    return element.name\n                });\n            if (industryfilter.length > 0) {\n                searchedList = searchedList.filter(e =>\n                    industryfilter.includes(e.industry));\n            }\n            let locationfilter = companyObj.items.companyList.filter.location.filter(element =>\n                element.isChecked == true).map(element => {\n                    return element.name\n                });;\n            if (locationfilter.length > 0) {\n                searchedList = searchedList.filter(e =>\n                    e.otherlocations.some(x => locationfilter.includes(x)));\n            }\n        }\n\n        let companySearchList = searchedList.map(element => {\n            return (\n                <div className=\"col-lg-4 col-md-6\">\n                    <CompanyCard Company={element} />\n                </div>\n            )\n        });\n        let companyList = (companyObj.items.companyList && companyObj.items.companyList.companylist && companyObj.items.companyList.companylist.length > 0)\n            ? companyObj.items.companyList.companylist.slice(0, 4).map(element => {\n                return (\n                    <div className=\"col-lg-3 col-md-6\">\n                        <CompanyCard Company={element} />\n                    </div>\n                )\n            }) : [];\n        let searchCount = searchedList.length;\n        return (\n            <div className=\"bg-light-wrapper\">\n                <div className=\"container\">\n                    <div className=\"company-wrapper\">\n                        {searchObj.items.companySearchlist.companylist.length > 0 && companyObj && companyObj.items.companyList && companyObj.items.companyList.filter &&\n\n                            <div className=\"row\">\n                                <div className={classNames('col-md-3', 'filter-mobile', { 'd-block': filter })}>\n                                    <Filter\n                                        filterToggle={this.filterToggle}\n                                        onFilterChange={this.handlefilterChange}\n                                        onResetClick={this.clearFilters}\n                                        filterClass=\"filter-wrapper\"\n                                        headerText=\"Filter by:\"\n                                        resetText=\"Reset\"\n                                        categoryHeadText={companyObj.items.companyList.filter}\n                                    />\n                                    <div className=\"mobile-filter-btn-wrap\">\n                                        <ul>\n                                            <li onClick={this.clearFilters}>Reset</li>\n                                            <li onClick={this.filterToggle}>\n                                                <span className=\"btn btn-primary-fill\">Done</span>\n                                            </li>\n                                        </ul>\n                                    </div>\n                                </div>\n                                <div className=\"col-md-9\">\n                                    <div className=\"company-content\">\n                                        <h5 className=\"search-result-heading\">\n                                            Showing {searchCount} Results for <span className=\"font-weight-bold\">'{searchVal}'</span>\n                                        </h5>\n                                        <div className=\"sort-wrapper d-none d-sm-block\">\n                                            <div className='d-flex align-items-center justify-content-end'>\n                                                <div className=\"sort-bg\">\n                                                    <div className=\"d-flex align-items-center\">\n\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"company-list-wrapper\">\n                                            <div className=\"row\">\n                                                {companySearchList}\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>}\n                        {searchObj.items.companySearchlist && companyList.length > 0 && (searchObj.items.companySearchlist.companylist.length <= 0) && <div className=\"row\">\n                            <div className=\"col-md-12\">\n                                <div className=\"company-content\">\n                                    <h5 className=\"no-company-found\">\n                                        Sorry! We couldn't find anything related to \"{searchVal}\"\n                                    </h5>\n                                    <div className=\"sort-wrapper d-none d-sm-block\">\n                                        <div className='d-flex align-items-center justify-content-end'>\n                                        </div>\n                                    </div>\n                                    <PageHeading\n                                        tagName=\"h5\"\n                                        className=\"page-heading-search\"\n                                        headingClass=\"heading\"\n                                        headingText=\"See Other Top Companies\"\n                                    />\n                                    <div className=\"company-list-wrapper\">\n                                        <div className=\"row\">\n                                            {companyList}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>}\n                        <div className=\"mobile-filter-wrapper\">\n                            <ul>\n                                <li onClick={this.filterToggle}>Filter by</li>\n                            </ul>\n                        </div>\n                    </div>\n\n                </div>\n                <Footer />\n            </div>\n\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    search: state.searchReducer,\n    company: state.companyReducer\n});\nexport default connect(mapStateToProps)(SearchResults);"]},"metadata":{},"sourceType":"module"}