{"ast":null,"code":"var _jsxFileName = \"/Users/ajeetjai/Desktop/website/src/view/components/common/search/Search.js\";\nimport React from 'react';\nimport { SearchMobile } from '../../../../assets/images';\nimport AsyncSelect from 'react-select/async';\nimport { searchCompany } from '../../../../services/searchService';\nimport ReactHtmlParser from 'react-html-parser';\n\nconst loadOptions = (inputValue, callback) => {\n  let query = inputValue;\n  searchCompany(query).then(response => {\n    callback(createOptions(response.data.hits.hits, query));\n  });\n};\n\nconst createOptions = (searchArray, selectedValue) => {\n  let result = searchArray.map(i => {\n    if (i._source.type == \"COMPANYLOCATION\" || i._source.type == \"COMPANYINDUSTRY\") {\n      return {\n        value: ReactHtmlParser(i._source.keyword),\n        label: ReactHtmlParser(i._source.description),\n        type: i._source.type,\n        url: i._source.url\n      };\n    }\n\n    return {\n      value: ReactHtmlParser(i._source.keyword),\n      label: ReactHtmlParser(i._source.keyword),\n      type: i._source.type,\n      url: i._source.url\n    };\n  });\n\n  if (typeof (Storage !== undefined) && selectedValue.length > 0) {\n    localStorage.setItem('search-result', JSON.stringify(result || []));\n    localStorage.setItem('search-value', selectedValue);\n  }\n\n  return result;\n};\n\nconst onKeyDown = event => {\n  switch (event.key) {\n    case 'Enter':\n      event.preventDefault();\n      let searchval = localStorage.getItem(\"search-value\");\n\n      if (searchval && searchval.length > 1) {\n        window.location.href = \"/search\";\n      }\n\n      break;\n  }\n};\n\nconst handleSearchButton = () => {\n  let searchval = localStorage.getItem(\"search-value\");\n\n  if (searchval && searchval.length > 1) {\n    window.location.href = \"/search\";\n  }\n};\n\nconst getValue = selectedOption => {\n  window.location.href = window.origin + selectedOption.url;\n};\n\nconst Search = props => {\n  return React.createElement(\"div\", {\n    className: props.searchClass,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"search-icon\",\n    src: SearchMobile,\n    onClick: handleSearchButton,\n    alt: \"search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), React.createElement(AsyncSelect, {\n    cacheOptions: true,\n    loadOptions: loadOptions,\n    getOptionValue: loadOptions => loadOptions.value,\n    defaultOptions: true,\n    onKeyDown: onKeyDown,\n    placeholder: \"Search by companies, location, industry\",\n    styles: props.inputClass,\n    onChange: getValue,\n    noOptionsMessage: () => \"No Results Found\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }));\n};\n\nexport default Search;","map":{"version":3,"sources":["/Users/ajeetjai/Desktop/website/src/view/components/common/search/Search.js"],"names":["React","SearchMobile","AsyncSelect","searchCompany","ReactHtmlParser","loadOptions","inputValue","callback","query","then","response","createOptions","data","hits","searchArray","selectedValue","result","map","i","_source","type","value","keyword","label","description","url","Storage","undefined","length","localStorage","setItem","JSON","stringify","onKeyDown","event","key","preventDefault","searchval","getItem","window","location","href","handleSearchButton","getValue","selectedOption","origin","Search","props","searchClass","inputClass"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { SearchMobile } from '../../../../assets/images';\nimport AsyncSelect from 'react-select/async';\nimport { searchCompany } from '../../../../services/searchService';\nimport ReactHtmlParser from 'react-html-parser';\n\nconst loadOptions = (inputValue, callback) => {\n    let query = inputValue;\n    searchCompany(query).then((response) => {\n        callback(createOptions(response.data.hits.hits, query))\n    });\n};\nconst createOptions = (searchArray, selectedValue) => {\n    let result = searchArray.map((i) => {\n        if (i._source.type == \"COMPANYLOCATION\" || i._source.type == \"COMPANYINDUSTRY\") {\n            return ({ value: ReactHtmlParser(i._source.keyword), label: ReactHtmlParser(i._source.description), type: i._source.type, url: i._source.url })\n        }\n        return ({ value: ReactHtmlParser(i._source.keyword), label: ReactHtmlParser(i._source.keyword), type: i._source.type, url: i._source.url })\n    });\n    if (typeof (Storage !== undefined) && selectedValue.length > 0) {\n        localStorage.setItem('search-result', JSON.stringify(result || []));\n        localStorage.setItem('search-value', selectedValue)\n\n    }\n    return result\n}\n\nconst onKeyDown = (event) => {\n    switch (event.key) {\n        case 'Enter':\n            event.preventDefault();\n            let searchval = localStorage.getItem(\"search-value\");\n            if (searchval && searchval.length > 1) {\n                window.location.href = \"/search\";\n            }\n            break;\n    }\n}\nconst handleSearchButton = () => {\n    let searchval = localStorage.getItem(\"search-value\");\n    if (searchval && searchval.length > 1) {\n        window.location.href = \"/search\";\n    }\n}\n\nconst getValue = (selectedOption) => {\n    window.location.href = window.origin + selectedOption.url;\n}\n\nconst Search = props => {\n    return (\n        <div className={props.searchClass}>\n            {/* <InputBox inputType={props.inputType} inputClass={props.inputClass} inputName={props.inputName} inputPlaceholder={props.inputPlaceholder}/>*/}\n            <img className=\"search-icon\" src={SearchMobile}\n                onClick={handleSearchButton}\n                alt=\"search\" />\n            <AsyncSelect\n                cacheOptions\n                loadOptions={loadOptions}\n                getOptionValue={loadOptions => loadOptions.value}\n                defaultOptions\n                onKeyDown={onKeyDown}\n                placeholder=\"Search by companies, location, industry\"\n                styles={props.inputClass}\n                onChange={getValue}\n                noOptionsMessage={() => \"No Results Found\"}\n            />\n        </div>\n    );\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}