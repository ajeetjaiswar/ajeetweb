{"ast":null,"code":"var _jsxFileName = \"/Users/ajeetjai/Desktop/website/src/view/components/social/FbLogin.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { SocialAction } from \"../../../actions/UserActions\";\nimport { FbIcon } from \"../../../assets/images\";\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\nimport { getOr } from 'lodash/fp';\nimport { Loader } from '../../../assets/SvgIcon';\nimport config from './config';\nimport RouterConstants from '../../../constants/routerConstants';\n\nclass FbLogin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.responseFacebook = response => {\n      if (response.status == 'unknown') {\n        // when user cancel the FB popup\n        return;\n      }\n\n      if (!response.email) {\n        // if not email is not fetched then send to emailInput screen.\n        this.props.history.push(RouterConstants.emailInput, {\n          res: response\n        });\n      } else {\n        let obj = {\n          email: getOr(null, 'email', response),\n          lastName: getOr(null, 'last_name', response),\n          firstName: getOr(null, 'first_name', response),\n          password: \"\",\n          type: \"facebook\",\n          socialId: getOr(null, 'userID', response),\n          deviceId: (Math.floor(900000 * Math.random()) + 100000).toString(),\n          deviceToken: (Math.floor(900000 * Math.random()) + 100000).toString(),\n          platForm: \"web\",\n          avtar: getOr(null, 'picture.data.url', response)\n        };\n        this.setState({\n          loader: true\n        });\n        this.props.SocialAction(obj).then(responseJson => {\n          this.setState({\n            loader: false\n          });\n\n          if (responseJson === \"Success\") {\n            this.props.history.push(RouterConstants.home);\n          }\n        }).catch(e => {\n          this.setState({\n            loader: false\n          });\n        });\n      }\n    };\n\n    this.state = {\n      loader: false\n    };\n  }\n\n  render() {\n    let fbContent;\n    let loader = this.state.loader;\n    fbContent = React.createElement(React.Fragment, null, React.createElement(FacebookLogin, {\n      appId: config.facebook,\n      scope: \"public_profile,email\",\n      fields: \"name,email,picture,first_name,last_name\",\n      onClick: this.componentClicked,\n      cssClass: \"btn-facebook btn\",\n      callback: this.responseFacebook,\n      render: renderProps => React.createElement(\"button\", {\n        className: \"btn-facebook btn d-flex align-items-center justify-content-center\",\n        onClick: renderProps.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"pr-sm-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: FbIcon,\n        alt: FbIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"d-none d-sm-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"FACEBOOK\")),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), loader ? React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }) : null);\n    return React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, fbContent);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {};\n};\n\nexport default connect(mapStateToProps, {\n  SocialAction\n})(FbLogin);","map":{"version":3,"sources":["/Users/ajeetjai/Desktop/website/src/view/components/social/FbLogin.js"],"names":["React","Component","connect","SocialAction","FbIcon","FacebookLogin","getOr","Loader","config","RouterConstants","FbLogin","constructor","props","responseFacebook","response","status","email","history","push","emailInput","res","obj","lastName","firstName","password","type","socialId","deviceId","Math","floor","random","toString","deviceToken","platForm","avtar","setState","loader","then","responseJson","home","catch","e","state","render","fbContent","facebook","componentClicked","renderProps","onClick","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { SocialAction } from \"../../../actions/UserActions\";\nimport { FbIcon } from \"../../../assets/images\";\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\nimport { getOr } from 'lodash/fp';\nimport { Loader } from '../../../assets/SvgIcon';\nimport config from './config'\nimport RouterConstants from '../../../constants/routerConstants';\n\n\nclass FbLogin extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            loader: false\n        }\n    }\n\n    responseFacebook = response => {\n        if (response.status == 'unknown') { // when user cancel the FB popup\n            return;\n        }\n\n        if (!response.email) {\n            // if not email is not fetched then send to emailInput screen.\n            this.props.history.push(RouterConstants.emailInput, {\n                res: response\n            });\n        } else {\n            let obj = {\n                email: getOr(null, 'email', response),\n                lastName: getOr(null, 'last_name', response),\n                firstName: getOr(null, 'first_name', response),\n                password: \"\",\n                type: \"facebook\",\n                socialId: getOr(null, 'userID', response),\n                deviceId: (Math.floor(900000 * Math.random()) + 100000).toString(),\n                deviceToken: (Math.floor(900000 * Math.random()) + 100000).toString(),\n                platForm: \"web\",\n                avtar: getOr(null, 'picture.data.url', response)\n            }\n            this.setState({ loader: true })\n            this.props.SocialAction(obj)\n                .then(responseJson => {\n                    this.setState({ loader: false })\n                    if (responseJson === \"Success\") {\n                        this.props.history.push(RouterConstants.home);\n                    }\n                }).catch(e => {\n                    this.setState({ loader: false })\n                })\n        }\n    };\n\n\n    render() {\n        let fbContent;\n        let { loader } = this.state;\n        fbContent = (\n            <>\n                <FacebookLogin\n                    appId={config.facebook}\n                    scope=\"public_profile,email\"\n                    fields=\"name,email,picture,first_name,last_name\"\n                    onClick={this.componentClicked}\n                    cssClass=\"btn-facebook btn\"\n                    callback={this.responseFacebook}\n                    render={renderProps => (\n                        <button className=\"btn-facebook btn d-flex align-items-center justify-content-center\" onClick={renderProps.onClick}>\n                            <span className=\"pr-sm-1\"><img src={FbIcon} alt={FbIcon} /></span>\n                            <span className=\"d-none d-sm-block\">FACEBOOK</span>\n                        </button>\n                    )}\n                />\n                {loader ? <Loader /> : null}\n            </>\n        );\n\n        return <li>{fbContent}</li>;\n    }\n}\nconst mapStateToProps = (state) => {\n    return {}\n}\n\nexport default connect(mapStateToProps, { SocialAction })(FbLogin)\n"]},"metadata":{},"sourceType":"module"}